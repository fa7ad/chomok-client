(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{333:function(e,t,n){"use strict";n.r(t);var r=n(76),a=n(77),o=n(79),i=n(78),c=n(80),l=n(1),s=n.n(l),u=n(339),m=n(84),f=n(328),h=n(14),d=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={zones:[],loading:!0},n.listStyle={textAlign:"left"},n.listMapper=function(e,t){return s.a.createElement(u.a.Item,{actions:[s.a.createElement(m.a,{onClick:n.showItem(e),type:"primary"},"View"),s.a.createElement(m.a,{onClick:n.deleteItem(e._id,t),type:"danger"},"DELETE!")]},s.a.createElement(u.a.Item.Meta,{title:n.getItemTitle(e),description:n.getItemDesc(e),style:n.listStyle}))},n.getItemTitle=function(e){return s.a.createElement(f.a,{color:"red"},s.a.createElement("b",null,"Name:")," ",e.name)},n.getItemDesc=function(e){return s.a.createElement(f.a,{color:"blue"},s.a.createElement("b",null,"Business:")," ",e.business.name)},n.showItem=function(e){return function(t){console.log(e)}},n.deleteItem=function(e,t){return function(r){fetch("/api/users/"+e,{method:"DELETE",credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(!e.ok)throw new Error("Something went wrong");n.setState(function(e){var n=e.zones.slice();return n.splice(t,1),{zones:n}})}).catch(function(e){console.error(e)})}},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return s.a.createElement(u.a,{loading:this.state.loading,itemLayout:"horizontal",dataSource:this.state.zones,renderItem:this.listMapper})}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/users/partner",{credentials:"include"}).then(function(e){return 401===e.status&&Object(h.e)("/login"),e.json()}).then(function(t){var n=t.ok,r=t.data;if(!n)throw new Error("Something went wrong");e.setState({zones:r,loading:!1})}).catch(function(e){console.error(e)})}}]),t}(s.a.PureComponent);t.default=d}}]);
//# sourceMappingURL=13.27124f08.chunk.js.map